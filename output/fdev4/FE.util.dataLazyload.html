
<!DOCTYPE html>
<html>
    <head>
        <meta charset="gbk" />
        <title>FE.util.dataLazyload</title>
        <link href="../../static/css/app-merge.css" rel="stylesheet"/>
    </head>
    <body>
        <div id="doc">
            <h1>web-dataLazyload : 资源懒加载器</h1>
            <h2>介绍</h2>
            <p>
                按需加载网页上的资源，提升网页加载性能。
            </p>
            <p>
                注:该组件的延迟加载容器必须可见，若不可见，则会立即执行懒加载逻辑，达不到效果。
            </p>
            <h2>版本</h2>
            <ul>
                <li>
                    @update yu.yuy 2011.09.28 v1.0
                </li>
                <li>
                    @update jianping.shenjp 2013.01.25
                </li>
            </ul>
            <h2>开始</h2>
            <pre class="prettyprint language-js">
$.use('web-datalazyload', function(){
    FE.util.datalazyload.register({
        containers : $('.layout')
    });
}
            </pre>
            <h2>Demo</h2>
            <p>
                <a target="_blank" href="../../examples/fdev4/FE.util.datalazyload.html">Try it!</a>
            </p>
            <h2>Statics</h2>
            <dl>
                <dt><b>FE.util.datalazyload.register( options )</b></dt>
                <dd>
                    <ul>
                        <li>
                            <b>options</b>
                            : Object 组件配置参数                            
                        </li>
                    </ul>
                </dd>
                <dd>
                    批量注入包含懒加载资源的容器
                </dd>
            </dl>
            <dl>
                <dt><b>FE.util.datalazyload.add( el )</b></dt>
                <dd>
                    <ul>
                        <li>
                            <b>el</b>
                            :  jQuery HTML对象、选择器或jQuery对象                    
                        </li>
                    </ul>
                </dd>
                <dd>
                    单个注入包含懒加载资源的容器
                </dd>
            </dl>
            <dl>
                <dt><b>FE.util.datalazyload.bind( el, fn )</b></dt>
                <dd>
                    <ul>
                        <li>
                            <b>el</b>
                            :  jQuery HTML对象、选择器或jQuery对象                    
                        </li>
                        <li>
                            <b>fn</b>
                            :  Function 事件函数                    
                        </li>
                    </ul>
                </dd>
                <dd>
                    单个注入包含懒加载资源的容器
                </dd>
            </dl>
            <h2>格式约定</h2>
            <dl>
                <dt><b>图片</b></dt>
                <dd>
                    <pre class="prettyprint language-html">
&lt;img alt="需要懒加载的图片" data-lazyload-src="http://fd.aliued.cn/i/300-300.png" src="http://img.china.alibaba.com/cms/upload/other/lazyload.png"/>
                    </pre>
                </dd>
            </dl>
            <dl>
                <dt><b>函数</b></dt>
                <dd>
                    有两种方法设置函数懒加载。
                </dd>
                <dd>
                    一：使用bind方法(推荐)
                </dd>
                <dd>
                    <pre class="prettyprint language-js">
FE.util.datalazyload.bind($("XX"),function(){
    
});
                    </pre>
                </dd>
                <dd>
                    二：在容器上设置data-lazyload-fn-body属性，并填写回调函数名。设置完毕，需要执行一下register。
                </dd>
                <dd>
                    <pre class="prettyprint language-html">
&lt;div class="lazyload-fn" data-lazyload-fn-body="P4pSearch.getData">
    ...
&lt;/div>
                    </pre>
                </dd>
                <dd>
                    说明：<strong>data-lazyload-fn-body</strong>属性中的值是要延迟执行的方法。这里我是将P4pSearch直接挂在了window下，其实是这样的：<strong>window.P4pSearch.getData</strong>。各业务线可能有自己的名字空间，例如SearchWeb，可能就是<strong>SearchWeb.P4pSearch.getData</strong>.
                    <a href="http://china.alibaba.com/topic/nanzhuangwaitao.html" target="_blank">这个页面</a>中的每个楼层曝光时都要发送一个请求去拿offer数据。
                </dd>
            </dl>
            <dl>
                <dt><b>textarea</b></dt>
                <dd>
                    <pre class="prettyprint language-html">
&lt;div class="lazyload-textarea">
    &lt;textarea style="display: none;">&lt;a title="阿里巴巴" href="#">阿里巴巴&lt;/a>&lt;/textarea>
&lt;/div>
                    </pre>
                </dd>
            </dl>
        </div>
        <script src="../../static/js/app-merge.js">
        </script>        
    </body>
</html>
