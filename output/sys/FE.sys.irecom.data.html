<!DOCTYPE html>
<html>
<head>
    <meta charset="gbk" />
    <title>sys.irecom</title>
    <link href="/fdevlib/static/css/merge.css" rel="stylesheet"/>
    <script src="/fdevlib/static/js/merge-fdev3.js"></script>
</head>
<body>
	<style>
		.redhint{font-size:14px;font-weight:bold;color:#c30;}
		.g-detail a:link,.g-detail a:visited{color:blue;}
		.g-detail a:active,.g-detail a:hover{color:#ff7300;}
	</style>
    <div class="g-memo">
        <h2>
            irecom: 个性化推荐 组件基本数据类型表</h2>
        <h3>
            更新日志</h3>
        <ul class="update-histroy">
            <li>2011.11.17 添加offer、categroy+offer两类基本数据类型</li>
        </ul>
    </div>
    <div class="g-detail">
		<h3 name="offer">快捷链接</h3>
		<ul>
			<li><a href="#rule">常见规则及静态方法</a></li>
			<li><a href="#offer">Offer数据类型明细</a></li>
			<li><a href="#categoryoffer">Catagory+Offer数据类型明细</a></li>
		</ul>
		<a name="rule"></a>
		<h3>常见规则及静态方法</h3>
		<ol>
			<li>1)	关于商品链接：优先取eURL:"P4POFFER扣费链接"，若该字段有值，表示该商品为P4P商品；若eURL:"P4POFFER扣费链接"无值，则取offerDetailUrl:"Offerdetailurl地址"；</li>
			<li>2)	关于商品价格：如果返回结果中价格为空或者为0，则显示“价格面议”。</li>
		</ol>
		<p><b>一些template渲染时有用的静态方法</b></p>
        <table class="g-paramtable" style="width:720px;">
            <thead>
                <tr>
                    <th>静态方法(优先使用提供的静态方法)</th>
                    <th>作用说明</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>FE.sys.irecom.fitLength(s, len)</td>
                    <td>截取字符串长度，传入字符串和长度</td>
                </tr>
                <tr>
                    <td>FE.sys.irecom.getOfferUrl(item)</td>
                    <td>获取offer的地址，传入对象，<b>对应规则1</b></td>
                </tr>
				<tr>
                    <td>FE.sys.irecom.getSearchUrl(item)</td>
                    <td>获取该类目的searchlist的地址，传入对象</td>
                </tr>
				<tr>
                    <td>FE.sys.irecom.getCompanyUrl(item)</td>
                    <td>获取company的地址，传入对象</td>
                </tr>
				<tr>
                    <td>FE.sys.irecom.getBizrefUrl(item)</td>
                    <td>获取诚信保障地址，传入对象</td>
                </tr>
                <tr>
                    <td>FE.sys.irecom.getPrice(item,mode)</td>
                    <td>获取价格，传入对象，返回价格html,mode为1则带单位（如￥33/吨），<b>对应规则2</b></td>
                </tr>
                <tr>
                    <td>FE.sys.irecom.getImgUrl(item, size)</td>
                    <td>获取图片地址，第一个参数为对象，第二个参数为需要图片大小(100, 150, 220, 310)</td>
                </tr>
                <tr>
                    <td>FE.sys.irecom.p4pSort(item)</td>
                    <td>p4p排序，传入序列数组</td>
                </tr>
				<tr>
                    <td>FE.sys.irecom.resizeImg(this, width, height)</td>
                    <td>调整图片大小，同FDEV库中的resizeImg方法</td>
                </tr>
            </tbody>
        </table>
		<a name="offer"></a>
		<h3>Offer数据类型明细</h3>
        <table class="g-paramtable" style="width:720px;">
            <thead>
                <tr>
                    <th>字段名</th>
                    <th>字段类型</th>
					<th>字段含义</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>offerId</td>
					<td>字符串</td>
                    <td>offer标识</td>
                </tr>
				<tr>
                    <td>categoryId</td>
					<td>字符串</td>
                    <td>offer所属类目id</td>
                </tr>
				<tr>
                    <td>subject</td>
					<td>字符串</td>
                    <td>offer标题</td>
                </tr>
				<tr>
                    <td>showTitle</td>
					<td>字符串</td>
                    <td>智能标题</td>
                </tr>
				<tr>
                    <td>eURL</td>
					<td>字符串</td>
                    <td>P4POFFER扣费链接</td>
                </tr>
				<tr>
                    <td>offerDetailUrl</td>
					<td>字符串</td>
                    <td>Offerdetailurl地址</td>
                </tr>
				<tr>
                    <td>offerImageUrl</td>
					<td>字符串</td>
                    <td>Offer图片url地址</td>
                </tr>
				<tr>
                    <td>rmbPrice</td>
					<td>数字类型</td>
                    <td>Offer人民币价格</td>
                </tr>
				<tr>
                    <td>rmbCurrency</td>
					<td>字符串</td>
                    <td>人民币币种，如“人民币”</td>
                </tr>
				<tr>
                    <td>foreignPrice</td>
					<td>数字类型</td>
                    <td>Offer外币价格</td>
                </tr>
				<tr>
                    <td>foreignCurrency</td>
					<td>字符串</td>
                    <td>外币币种名，如“美元”等</td>
                </tr>
				<tr>
                    <td>unit</td>
					<td>字符串</td>
                    <td>计量单位如“个”，“台”等</td>
                </tr>
				<tr>
                    <td>memberId</td>
					<td>字符串</td>
                    <td>会员ID</td>
                </tr>
				<tr>
                    <td>type</td>
					<td>整数</td>
                    <td>0=普通offer 1=P4Poffer 2=P4P类目补足offer</td>
                </tr>
				<tr>
                    <td>offerSaleCnt</td>
					<td>整数</td>
                    <td>dw-Offer累计销售件数</td>
                </tr>
				<tr>
                    <td>offerFavoriteCnt</td>
					<td>整数</td>
                    <td>dw-Offer被收藏的次数</td>
                </tr>
				<tr>
                    <td>alg</td>
					<td>字符串</td>
                    <td>算法标识</td>
                </tr>
				<tr>
                    <td>brief</td>
					<td>List</td>
                    <td>用于标识offer的属性，如产地，规格等，用于原材料bu</td>
                </tr>
				<tr>
                    <td>name</td>
					<td>字符串</td>
                    <td>Brief字段中的属性名，如“产地”、“规格”</td>
                </tr>
				<tr>
                    <td>value</td>
					<td>字符串</td>
                    <td>Brief字段中的属性值，对应属性名。如“浙江”、“20*20”</td>
                </tr>
				<tr>
                    <td>paidCnt</td>
					<td>整数</td>
                    <td>Offer30天内支付次数</td>
                </tr>
				<tr>
                    <td>paidSevenCnt</td>
					<td>整数</td>
                    <td>Offer7天内支付次数</td>
                </tr>
				<tr>
                    <td>company</td>
					<td>字符串</td>
                    <td>公司名称</td>
                </tr>
				<tr>
                    <td>trustScore</td>
					<td>字符串</td>
                    <td>诚信通指数</td>
                </tr>
				<tr>
                    <td>trustType</td>
					<td>整数</td>
                    <td>诚信通类型，1=企业诚信通 2=个人诚信通 4=海外诚信通 8=专业市场诚信通 16=非诚信通</td>
                </tr>
				<tr>
                    <td>limitedTrust</td>
					<td>布尔类型</td>
                    <td>是否限量版诚信通true/false</td>
                </tr>
				<tr>
                    <td>credit</td>
					<td>布尔类型</td>
                    <td>是否加入信用保障true/false</td>
                </tr>
				<tr>
                    <td>amountGuaranteed</td>
					<td>数字类型</td>
                    <td>担保金额，单位为分</td>
                </tr>
				<tr>
                    <td>domainID</td>
					<td>字符串</td>
                    <td>客户域名ID</td>
                </tr>
				<tr>
                    <td>onlineStatus</td>
					<td>字符串</td>
                    <td>旺旺在线状态</td>
                </tr>
				<tr>
                    <td>province</td>
					<td>字符串</td>
                    <td>客户所在省份</td>
                </tr>
				<tr>
                    <td>city</td>
					<td>字符串</td>
                    <td>客户所在城市</td>
                </tr>
				<tr>
                    <td>useAlipay</td>
					<td>布尔类型</td>
                    <td>是否使用支付宝true/false</td>
                </tr>
				<tr>
                    <td>ETC</td>
					<td>布尔类型</td>
                    <td>是否是海外offer true/false</td>
                </tr>
				<tr>
                    <td>contact</td>
					<td>字符串</td>
                    <td>联系方式</td>
                </tr>
				<tr>
                    <td>mainCats</td>
					<td>字符串</td>
                    <td>公司主营行业</td>
                </tr>
				<tr>
                    <td>companyFavoriteCnt</td>
					<td>整数</td>
                    <td>Company被收藏的次数</td>
                </tr>
            </tbody>
        </table>
		<a name="categoryoffer"></a>
		<h3>category+Offer数据类型明细</h3>
        <table class="g-paramtable" style="width:720px;">
            <thead>
                <tr>
                    <th>字段名</th>
                    <th>字段类型</th>
					<th>字段含义</th>
                </tr>
            </thead>
            <tbody>
				<tr>
					<td colspan="3"><p class="redhint">以下是与offer格式返回结果相同的字段</p></td>
				</tr>
                <tr>
                    <td>offerId</td>
					<td>字符串</td>
                    <td>offer标识</td>
                </tr>
				<tr>
                    <td>categoryId</td>
					<td>字符串</td>
                    <td>offer所属类目id</td>
                </tr>
				<tr>
                    <td>subject</td>
					<td>字符串</td>
                    <td>offer标题</td>
                </tr>
				<tr>
                    <td>showTitle</td>
					<td>字符串</td>
                    <td>智能标题</td>
                </tr>
				<tr>
                    <td>eURL</td>
					<td>字符串</td>
                    <td>P4POFFER扣费链接</td>
                </tr>
				<tr>
                    <td>offerDetailUrl</td>
					<td>字符串</td>
                    <td>Offerdetailurl地址</td>
                </tr>
				<tr>
                    <td>offerImageUrl</td>
					<td>字符串</td>
                    <td>Offer图片url地址</td>
                </tr>
				<tr>
                    <td>rmbPrice</td>
					<td>数字类型</td>
                    <td>Offer人民币价格</td>
                </tr>
				<tr>
                    <td>rmbCurrency</td>
					<td>字符串</td>
                    <td>人民币币种，如“人民币”</td>
                </tr>
				<tr>
                    <td>foreignPrice</td>
					<td>数字类型</td>
                    <td>Offer外币价格</td>
                </tr>
				<tr>
                    <td>foreignCurrency</td>
					<td>字符串</td>
                    <td>外币币种名，如“美元”等</td>
                </tr>
				<tr>
                    <td>unit</td>
					<td>字符串</td>
                    <td>计量单位如“个”，“台”等</td>
                </tr>
				<tr>
                    <td>memberId</td>
					<td>字符串</td>
                    <td>会员ID</td>
                </tr>
				<tr>
                    <td>type</td>
					<td>整数</td>
                    <td>0=普通offer 1=P4Poffer 2=P4P类目补足offer</td>
                </tr>
				<tr>
                    <td>offerSaleCnt</td>
					<td>整数</td>
                    <td>dw-Offer累计销售件数</td>
                </tr>
				<tr>
                    <td>offerFavoriteCnt</td>
					<td>整数</td>
                    <td>dw-Offer被收藏的次数</td>
                </tr>
				<tr>
                    <td>alg</td>
					<td>字符串</td>
                    <td>算法标识</td>
                </tr>
				<tr>
                    <td>brief</td>
					<td>List</td>
                    <td>用于标识offer的属性，如产地，规格等，用于原材料bu</td>
                </tr>
				<tr>
                    <td>name</td>
					<td>字符串</td>
                    <td>Brief字段中的属性名，如“产地”、“规格”</td>
                </tr>
				<tr>
                    <td>value</td>
					<td>字符串</td>
                    <td>Brief字段中的属性值，对应属性名。如“浙江”、“20*20”</td>
                </tr>
				<tr>
                    <td>paidCnt</td>
					<td>整数</td>
                    <td>Offer30天内支付次数</td>
                </tr>
				<tr>
                    <td>paidSevenCnt</td>
					<td>整数</td>
                    <td>Offer7天内支付次数</td>
                </tr>
				<tr>
                    <td>company</td>
					<td>字符串</td>
                    <td>公司名称</td>
                </tr>
				<tr>
                    <td>trustScore</td>
					<td>字符串</td>
                    <td>诚信通指数</td>
                </tr>
				<tr>
                    <td>trustType</td>
					<td>整数</td>
                    <td>诚信通类型，1=企业诚信通 2=个人诚信通 4=海外诚信通 8=专业市场诚信通 16=非诚信通</td>
                </tr>
				<tr>
                    <td>limitedTrust</td>
					<td>布尔类型</td>
                    <td>是否限量版诚信通true/false</td>
                </tr>
				<tr>
                    <td>credit</td>
					<td>布尔类型</td>
                    <td>是否加入信用保障true/false</td>
                </tr>
				<tr>
                    <td>amountGuaranteed</td>
					<td>数字类型</td>
                    <td>担保金额，单位为分</td>
                </tr>
				<tr>
                    <td>domainID</td>
					<td>字符串</td>
                    <td>客户域名ID</td>
                </tr>
				<tr>
                    <td>onlineStatus</td>
					<td>字符串</td>
                    <td>旺旺在线状态</td>
                </tr>
				<tr>
                    <td>province</td>
					<td>字符串</td>
                    <td>客户所在省份</td>
                </tr>
				<tr>
                    <td>city</td>
					<td>字符串</td>
                    <td>客户所在城市</td>
                </tr>
				<tr>
                    <td>useAlipay</td>
					<td>布尔类型</td>
                    <td>是否使用支付宝true/false</td>
                </tr>
				<tr>
                    <td>ETC</td>
					<td>布尔类型</td>
                    <td>是否是海外offer true/false</td>
                </tr>
				<tr>
                    <td>contact</td>
					<td>字符串</td>
                    <td>联系方式</td>
                </tr>
				<tr>
                    <td>mainCats</td>
					<td>字符串</td>
                    <td>公司主营行业</td>
                </tr>
				<tr>
                    <td>companyFavoriteCnt</td>
					<td>整数</td>
                    <td>Company被收藏的次数</td>
                </tr>
				<tr>
					<td colspan="3"><p class="redhint">以下是category+offer格式特有的字段，部分重名的字段会在不同的层次被解析</p></td>
				</tr>
				<tr>
                    <td>categoryId</td>
					<td>字符串</td>
                    <td>类目id</td>
                </tr>
				<tr>
                    <td>categoryDesc</td>
					<td>字符串</td>
                    <td>类目描述</td>
                </tr>
				<tr>
                    <td>catKeyWords</td>
					<td>字符串</td>
                    <td>类目关键词</td>
                </tr>
				<tr>
                    <td>brief</td>
					<td>List</td>
                    <td>类目限定的属性名，所属此类目的offer的brief字段中出现的为此限定属性名的属性。</td>
                </tr>
				<tr>
                    <td>offerIds</td>
					<td>List</td>
                    <td>类目下offerList List中的offer包含的字段为offer格式中的字段</td>
                </tr>
				<tr>
                    <td>alg</td>
					<td>字符串</td>
                    <td>类目的算法标签</td>
                </tr>
				<tr>
                    <td>buid</td>
					<td>字符串</td>
                    <td>类目所属bu</td>
                </tr>
				<tr>
                    <td>mainCats</td>
					<td>字符串</td>
                    <td>类目所属bu名称</td>
                </tr>
            </tbody>
        </table>
        <h3>
            提建议给开发者</h3>
        作者：Raywu<br />
        邮件：<a href="mailto:wljray@gmail.com">wljray@gmail.com</a><br />
        旺旺：wuleijun990（中文站）
    </div>
</body>
</html>
