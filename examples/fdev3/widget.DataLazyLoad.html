<!doctype html>
<html>
<head>
    <meta charset="gbk" />
    <title>fdevlib-example: foldlist</title>
    <link href="/fdevlib/static/css/merge.css" rel="stylesheet"/>
    <link href="/fdevlib/static/css/ep.css" rel="stylesheet"/>
</head>
<body>
	<div id="doc">
		<div id="hd">
			<h1>fdevlib-example: DataLazyLoad（数据延迟加载组件）</h1>
		</div>
		<div id="bd">
			<div class="layout">
				<div class="main" id="J_imgContainer">
					<div style="height:400px;">
						<img class="lazyme" data-lazyload-src="/fdevlib/static/img/output/slider-a.jpg">
					</div>
					<div style="height:400px;">
						<img class="lazyme" data-lazyload-src="/fdevlib/static/img/output/slider-b.jpg">
					</div>
					<div style="height:400px;">
						<img class="lazyme" data-lazyload-src="/fdevlib/static/img/output/slider-c.jpg">
					</div>
				</div>
				<div class="sub">
					<h2>调用代码示意：</h2>
					<pre class="brush:js">
					new FD.widget.DataLazyload('J_imgContainer',{
						threshold:100,
						elements:'img'
					});	
					</pre>

				</div>			
			</div>

			<div class="layout">
				<div class="main" id="J_imgContainer2">
					<img class="lazyme" data-lazyload-src="/fdevlib/static/img/output/error.jpg" id="J_errorTest">
				</div>
				<div class="sub">
					<h2>调用代码示意：</h2>

					<pre class="brush:js">
						new FD.widget.DataLazyload('J_imgContainer2',{
							threshold:100,
							elements:'img'
						});
						FYE.on('J_errorTest','error',function(){
							$('J_imgContainer2').innerHTML = '监测图片的error事件，可以扩展做你想要做的事情';
						})；
					</pre>
				</div>			
			</div>
		</div>
		<div id="ft">
			―― 阿里巴巴中文站前端开发团队
		</div>
	</div>
    <script src="/fdevlib/static/js/merge-fdev3.js"></script>
	<script src="http://style.china.alibaba.com/js/lib/fdev-v3/widget/datalazyload/datalazyload-min.js" type="text/javascript" ></script>
	<script>
	//Dom树构建完毕后开始执行
	$E.onDOMReady(function(){
		dp.SyntaxHighlighter.HighlightAll('code');	//代码高亮
		
		new FD.widget.DataLazyload('J_imgContainer',{
			threshold:100,
			elements:'img'
		});	
		
		new FD.widget.DataLazyload('J_imgContainer2',{
			threshold:100,
			elements:'img'
		});
		FYE.on('J_errorTest','error',function(){
			$('J_imgContainer2').innerHTML = '监测图片的error事件，可以扩展做你想要做的事情';
		});
	});
	</script>
</body>
</html>
